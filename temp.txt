// Rotas multi-tenant relacionadas a usuarios. Aplica guardas de autenticacao e valida o corpo.import { Router } from "express";import {  createUser,  deleteUser,  getUser,  listUsers,  updateUser,} from "../controllers/users.controller";import { validateBody } from "../../../middlewares/validateBody";import { createUserSchema, updateUserSchema } from "../validators/user.schemas";import { jwtAuth, requireRole } from "../../../auth/middleware";// mergeParams permite acessar :tenantId definido no router pai (/t/:tenantId/...)const tenantRouter = Router({ mergeParams: true });const usersRouter = Router({ mergeParams: true });// Apenas administradores ou owners autenticados podem manipular usuarios do tenant.usersRouter.use(jwtAuth(true), requireRole("ADMIN", "OWNER"));usersRouter.post("/", validateBody(createUserSchema), createUser);usersRouter.get("/", listUsers);usersRouter.get("/:id", getUser);usersRouter.put("/:id", validateBody(updateUserSchema), updateUser);usersRouter.delete("/:id", deleteUser);// Anexa as rotas de usuarios sob /users no contexto do tenant.tenantRouter.use("/users", usersRouter);export default tenantRouter;